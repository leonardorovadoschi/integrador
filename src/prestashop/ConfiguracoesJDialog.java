/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package prestashop;

import integrador.relatorio.ImprimeRelatorio;
import java.io.File;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.filechooser.FileNameExtensionFilter;
import prestashop.ConfiguracaoNoBD;
import query.integrador.QueryIntegrador;

/**
 *
 * @author leo-note
 */
public class ConfiguracoesJDialog extends javax.swing.JDialog {

    /**
     * Creates new form ConfiguracoesJDialog
     */
    public ConfiguracoesJDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        queryIntegrador = new QueryIntegrador();
        //carregaCampos();
       // conf = configuracaoNoBD;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        chooser = new javax.swing.JFileChooser();
        jTabbedPaneConfArquivos = new javax.swing.JTabbedPane();
        jPanelConfGerais = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jLabelSomFinalizado = new javax.swing.JLabel();
        jTextFieldSomFinalizado = new javax.swing.JTextField();
        jButtonSomFinalizado = new javax.swing.JButton();
        jButtonSomErro = new javax.swing.JButton();
        jTextFieldSomErro = new javax.swing.JTextField();
        jLabelSomErro = new javax.swing.JLabel();
        jButtonRomaneioSeriais = new javax.swing.JButton();
        jTextFieldRomaneioSeriais = new javax.swing.JTextField();
        jLabelRomaneioSeriais = new javax.swing.JLabel();
        jButtonEspelhoRma = new javax.swing.JButton();
        jTextFieldEspelhoRma = new javax.swing.JTextField();
        jLabelEspelhoRma = new javax.swing.JLabel();
        jButtonEtiquetaSerial = new javax.swing.JButton();
        jTextFieldEtiquetaSerial = new javax.swing.JTextField();
        jLabelEtiquetaSerial = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Configurações");

        jTabbedPaneConfArquivos.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Configurações", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Arial", 0, 11))); // NOI18N

        javax.swing.GroupLayout jPanelConfGeraisLayout = new javax.swing.GroupLayout(jPanelConfGerais);
        jPanelConfGerais.setLayout(jPanelConfGeraisLayout);
        jPanelConfGeraisLayout.setHorizontalGroup(
            jPanelConfGeraisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 720, Short.MAX_VALUE)
        );
        jPanelConfGeraisLayout.setVerticalGroup(
            jPanelConfGeraisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 389, Short.MAX_VALUE)
        );

        jTabbedPaneConfArquivos.addTab("Geral", jPanelConfGerais);

        jLabelSomFinalizado.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelSomFinalizado.setText("Som Finalizado:");

        jTextFieldSomFinalizado.setEnabled(false);

        jButtonSomFinalizado.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/pesquisar.png"))); // NOI18N
        jButtonSomFinalizado.setText("Caminho");
        jButtonSomFinalizado.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSomFinalizadoActionPerformed(evt);
            }
        });

        jButtonSomErro.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/pesquisar.png"))); // NOI18N
        jButtonSomErro.setText("Caminho");
        jButtonSomErro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSomErroActionPerformed(evt);
            }
        });

        jTextFieldSomErro.setEnabled(false);

        jLabelSomErro.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelSomErro.setText("Som Erro:");

        jButtonRomaneioSeriais.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/pesquisar.png"))); // NOI18N
        jButtonRomaneioSeriais.setText("Caminho");
        jButtonRomaneioSeriais.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRomaneioSeriaisActionPerformed(evt);
            }
        });

        jTextFieldRomaneioSeriais.setEnabled(false);

        jLabelRomaneioSeriais.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelRomaneioSeriais.setText("Romaneio Seriais:");

        jButtonEspelhoRma.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/pesquisar.png"))); // NOI18N
        jButtonEspelhoRma.setText("Caminho");
        jButtonEspelhoRma.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEspelhoRmaActionPerformed(evt);
            }
        });

        jTextFieldEspelhoRma.setEnabled(false);

        jLabelEspelhoRma.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelEspelhoRma.setText("Espelho RMA:");

        jButtonEtiquetaSerial.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icones/pesquisar.png"))); // NOI18N
        jButtonEtiquetaSerial.setText("Caminho");
        jButtonEtiquetaSerial.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEtiquetaSerialActionPerformed(evt);
            }
        });

        jTextFieldEtiquetaSerial.setEnabled(false);

        jLabelEtiquetaSerial.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelEtiquetaSerial.setText("Etiqueta Serial:");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabelEtiquetaSerial, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextFieldEtiquetaSerial, javax.swing.GroupLayout.DEFAULT_SIZE, 492, Short.MAX_VALUE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabelSomFinalizado, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextFieldSomFinalizado))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabelEspelhoRma, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextFieldEspelhoRma))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabelRomaneioSeriais, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextFieldRomaneioSeriais))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabelSomErro, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextFieldSomErro)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonSomFinalizado)
                    .addComponent(jButtonSomErro)
                    .addComponent(jButtonRomaneioSeriais)
                    .addComponent(jButtonEspelhoRma)
                    .addComponent(jButtonEtiquetaSerial))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelSomFinalizado)
                    .addComponent(jTextFieldSomFinalizado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonSomFinalizado))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelSomErro)
                    .addComponent(jTextFieldSomErro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonSomErro))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelRomaneioSeriais)
                    .addComponent(jTextFieldRomaneioSeriais, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonRomaneioSeriais))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelEspelhoRma)
                    .addComponent(jTextFieldEspelhoRma, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonEspelhoRma))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelEtiquetaSerial)
                    .addComponent(jTextFieldEtiquetaSerial, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonEtiquetaSerial))
                .addContainerGap(229, Short.MAX_VALUE))
        );

        jTabbedPaneConfArquivos.addTab("Arquivos", jPanel2);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPaneConfArquivos)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPaneConfArquivos)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButtonSomFinalizadoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSomFinalizadoActionPerformed
        FileNameExtensionFilter filter = new FileNameExtensionFilter("Selecione apenas MP3 e WAV", "mp3", "wav");
        chooser.setFileFilter(filter);
        chooser.setDialogTitle("Selecione o arquivo");
        chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
        File file = new File(jTextFieldSomFinalizado.getText());
        chooser.setCurrentDirectory(file);
        int retorno = chooser.showOpenDialog(this);
        if (retorno == JFileChooser.APPROVE_OPTION) {            
            file = chooser.getSelectedFile();
            jTextFieldSomFinalizado.setText(file.getPath().replace("\\", "/"));
            try {
                queryIntegrador.atualizaValorConfiguracao(ConfiguracaoNoBD.getTipoAudioFinalizado(), jTextFieldSomFinalizado.getText());
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(null, "Houve um ero ao editar "+ConfiguracaoNoBD.getTipoAudioFinalizado()+"! \n" + ex);
            }
        }
    }//GEN-LAST:event_jButtonSomFinalizadoActionPerformed

    private void jButtonSomErroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSomErroActionPerformed
        FileNameExtensionFilter filter = new FileNameExtensionFilter("Selecione apenas MP3 e WAV", "mp3", "wav");
        chooser.setFileFilter(filter);
        chooser.setDialogTitle("Selecione o arquivo");
        chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
        File file = new File(jTextFieldSomErro.getText());
        chooser.setCurrentDirectory(file);
        int retorno = chooser.showOpenDialog(this);
        if (retorno == JFileChooser.APPROVE_OPTION) {            
            file = chooser.getSelectedFile();
            jTextFieldSomErro.setText(file.getPath().replace("\\", "/"));
            try {
                queryIntegrador.atualizaValorConfiguracao(ConfiguracaoNoBD.getTipoAudioErro(), jTextFieldSomErro.getText());
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(null, "Houve um ero ao editar "+ConfiguracaoNoBD.getTipoAudioErro()+"! \n" + ex);
            }
        }
    }//GEN-LAST:event_jButtonSomErroActionPerformed

    private void jButtonRomaneioSeriaisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRomaneioSeriaisActionPerformed
        FileNameExtensionFilter filter = new FileNameExtensionFilter("Selecione apenas JRXML", "jrxml");
        chooser.setFileFilter(filter);
        chooser.setDialogTitle("Selecione o arquivo");
        chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
        File file = new File(jTextFieldRomaneioSeriais.getText());
        chooser.setCurrentDirectory(file);
        int retorno = chooser.showOpenDialog(this);
        if (retorno == JFileChooser.APPROVE_OPTION) {            
            file = chooser.getSelectedFile();
            jTextFieldRomaneioSeriais.setText(file.getPath().replace("\\", "/"));
            try {
                queryIntegrador.atualizaValorConfiguracao(ConfiguracaoNoBD.getTipoRomaneioSeriais(), jTextFieldRomaneioSeriais.getText());
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(null, "Houve um ero ao editar "+ConfiguracaoNoBD.getTipoRomaneioSeriais()+"! \n" + ex);
            }
        }
    }//GEN-LAST:event_jButtonRomaneioSeriaisActionPerformed

    private void jButtonEspelhoRmaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonEspelhoRmaActionPerformed
        FileNameExtensionFilter filter = new FileNameExtensionFilter("Selecione apenas JRXML", "jrxml");
        chooser.setFileFilter(filter);
        chooser.setDialogTitle("Selecione o arquivo");
        chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
        File file = new File(jTextFieldEspelhoRma.getText());
        chooser.setCurrentDirectory(file);
        int retorno = chooser.showOpenDialog(this);
        if (retorno == JFileChooser.APPROVE_OPTION) {            
            file = chooser.getSelectedFile();
            jTextFieldEspelhoRma.setText(file.getPath().replace("\\", "/"));
            try {
                queryIntegrador.atualizaValorConfiguracao(ConfiguracaoNoBD.getTipoEspelhoRma(), jTextFieldEspelhoRma.getText());
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(null, "Houve um ero ao editar "+ConfiguracaoNoBD.getTipoEspelhoRma()+"! \n" + ex);
            }
        }
    }//GEN-LAST:event_jButtonEspelhoRmaActionPerformed

    private void jButtonEtiquetaSerialActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonEtiquetaSerialActionPerformed
        FileNameExtensionFilter filter = new FileNameExtensionFilter("Selecione apenas JRXML", "jrxml");
        chooser.setFileFilter(filter);
        chooser.setDialogTitle("Selecione o arquivo");
        chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
        File file = new File(jTextFieldEtiquetaSerial.getText());
        chooser.setCurrentDirectory(file);
        int retorno = chooser.showOpenDialog(this);
        if (retorno == JFileChooser.APPROVE_OPTION) {            
            file = chooser.getSelectedFile();
            jTextFieldEtiquetaSerial.setText(file.getPath().replace("\\", "/"));
            try {
                queryIntegrador.atualizaValorConfiguracao(ConfiguracaoNoBD.getTipoEtiquetaSerial(), jTextFieldEtiquetaSerial.getText());
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(null, "Houve um ero ao editar "+ConfiguracaoNoBD.getTipoEtiquetaSerial()+"! \n" + ex);
            }
        }
    }//GEN-LAST:event_jButtonEtiquetaSerialActionPerformed

    public void setCarregaCampos(){
        jTextFieldSomFinalizado.setText(ConfiguracaoNoBD.getCaminhoAudioFinalizado());
        jTextFieldSomErro.setText(ConfiguracaoNoBD.getCaminhoAudioErro());
        jTextFieldRomaneioSeriais.setText(ConfiguracaoNoBD.getCaminhoRomaneioSeriais());
        jTextFieldEspelhoRma.setText(ConfiguracaoNoBD.getCaminhoEspelhoRma());
        jTextFieldEtiquetaSerial.setText(ConfiguracaoNoBD.getCaminhoEtiquetaSerial());
        
        
    }
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ConfiguracoesJDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ConfiguracoesJDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ConfiguracoesJDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ConfiguracoesJDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                ConfiguracoesJDialog dialog = new ConfiguracoesJDialog(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }
   // private final EntityManagerFactory managerCplus;
    private final QueryIntegrador queryIntegrador;

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JFileChooser chooser;
    private javax.swing.JButton jButtonEspelhoRma;
    private javax.swing.JButton jButtonEtiquetaSerial;
    private javax.swing.JButton jButtonRomaneioSeriais;
    private javax.swing.JButton jButtonSomErro;
    private javax.swing.JButton jButtonSomFinalizado;
    private javax.swing.JLabel jLabelEspelhoRma;
    private javax.swing.JLabel jLabelEtiquetaSerial;
    private javax.swing.JLabel jLabelRomaneioSeriais;
    private javax.swing.JLabel jLabelSomErro;
    private javax.swing.JLabel jLabelSomFinalizado;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanelConfGerais;
    private javax.swing.JTabbedPane jTabbedPaneConfArquivos;
    private javax.swing.JTextField jTextFieldEspelhoRma;
    private javax.swing.JTextField jTextFieldEtiquetaSerial;
    private javax.swing.JTextField jTextFieldRomaneioSeriais;
    private javax.swing.JTextField jTextFieldSomErro;
    private javax.swing.JTextField jTextFieldSomFinalizado;
    // End of variables declaration//GEN-END:variables
}
